import AWFS.TAFunctors

open CategoryTheory
open Diagrams
open WalkingTriangle
open WalkingArrow
open WalkingTriangleHom
open WalkingArrowHom

universe v vâ‚‚ u uâ‚‚
variable {C : Type u} [Category.{v} C]

structure FactorizationFunctor where
  func : (WalkingArrow â¥¤ C) â¥¤ (WalkingTriangle â¥¤ C)
  cond : func â‹™ PreCompMiddleFunctor = Functor.id (WalkingArrow â¥¤ C)

def FF_Unit {FF : @FactorizationFunctor C _} : NatTrans (Functor.id (WalkingArrow â¥¤ C)) (FF.func â‹™ PreCompRightFunctor) := by
  rw [<- FF.cond]
  apply NatTrans.hcomp (NatTrans.id FF.func)
  simp [Quiver.Hom]
  exact (@NatTrans_PCMF_PCRF C _)

def FF_CoUnit {FF : @FactorizationFunctor C _} : NatTrans (FF.func â‹™ PreCompLeftFunctor) (Functor.id (WalkingArrow â¥¤ C)) := by
  rw [<- FF.cond]
  apply NatTrans.hcomp (NatTrans.id FF.func)
  simp [Quiver.Hom]
  exact (@NatTrans_PCLF_PCMF C _)

structure AWFS extends @FactorizationFunctor C _ where
  multiplication : ((func â‹™ PreCompRightFunctor) â‹™ (func â‹™ PreCompRightFunctor)) âŸ¶ (func â‹™ PreCompRightFunctor)
  comultiplication : (func â‹™ PreCompLeftFunctor) âŸ¶ ((func â‹™ PreCompLeftFunctor) â‹™ (func â‹™ PreCompLeftFunctor))
  Right_assoc : (multiplication â—« (ðŸ™ (func â‹™ PreCompRightFunctor))) â‰« multiplication = ((ðŸ™ (func â‹™ PreCompRightFunctor)) â—« multiplication) â‰« multiplication
  left_unit : (FF_Unit â—« (ðŸ™ (func â‹™ PreCompRightFunctor))) â‰« multiplication = (ðŸ™ (func â‹™ PreCompRightFunctor))
  right_unit : ((ðŸ™ (func â‹™ PreCompRightFunctor)) â—« FF_Unit) â‰« multiplication = (ðŸ™ (func â‹™ PreCompRightFunctor))
  Left_assoc : comultiplication â‰« ((ðŸ™ (func â‹™ PreCompLeftFunctor)) â—« comultiplication) = comultiplication â‰« (comultiplication â—« (ðŸ™ (func â‹™ PreCompLeftFunctor)))
  left_counit : comultiplication â‰« (FF_CoUnit â—« (ðŸ™ (func â‹™ PreCompLeftFunctor))) = (ðŸ™ (func â‹™ PreCompLeftFunctor))
  right_counit : comultiplication â‰« ((ðŸ™ (func â‹™ PreCompLeftFunctor)) â—« FF_CoUnit) = (ðŸ™ (func â‹™ PreCompLeftFunctor))
